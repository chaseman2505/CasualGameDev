[gd_scene load_steps=12 format=3 uid="uid://cuuux5ws8trak"]

[ext_resource type="Script" uid="uid://dhvg3d8muf58l" path="res://addons/godot-rapier2d/fluid_2d_circle.gd" id="1_epypp"]
[ext_resource type="Script" uid="uid://cubn200xi8p1b" path="res://GameManager.gd" id="1_kdubu"]
[ext_resource type="Texture2D" uid="uid://b7o2p3paj42nx" path="res://icon.svg" id="2_0hol4"]
[ext_resource type="Script" uid="uid://c70amrnbdymwf" path="res://addons/godot-rapier2d/fluid_2d_renderer.gd" id="3_q6r6c"]
[ext_resource type="Script" uid="uid://qo8bibm1ntwf" path="res://addons/godot-rapier2d/fluid_2d_shader_renderer.gd" id="4_q6r6c"]
[ext_resource type="Material" uid="uid://cysnk7s2ll173" path="res://addons/godot-rapier2d/water_shader.tres" id="5_kdubu"]

[sub_resource type="FluidEffect2DSurfaceTensionAKINCI" id="FluidEffect2DSurfaceTensionAKINCI_kdubu"]
fluid_tension_coefficient = 100.0

[sub_resource type="FluidEffect2DViscosityArtificial" id="FluidEffect2DViscosityArtificial_d21ai"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rj586"]

[sub_resource type="ArrayMesh" id="ArrayMesh_d21ai"]
_surfaces = [{
"2d": true,
"aabb": AABB(-16, -16, 0, 32, 32, 0),
"attribute_data": PackedByteArray(0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 0, 0, 0, 0, 128, 63, 0, 0, 128, 63),
"format": 34393296913,
"index_count": 6,
"index_data": PackedByteArray(3, 0, 0, 0, 1, 0, 1, 0, 2, 0, 3, 0),
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 4,
"vertex_data": PackedByteArray(0, 0, 128, 193, 0, 0, 128, 65, 0, 0, 128, 193, 0, 0, 128, 193, 0, 0, 128, 65, 0, 0, 128, 193, 0, 0, 128, 65, 0, 0, 128, 65)
}]

[sub_resource type="MultiMesh" id="MultiMesh_rj586"]
use_colors = true
mesh = SubResource("ArrayMesh_d21ai")

[node name="Node2D" type="Node2D"]
script = ExtResource("1_kdubu")

[node name="Camera2D" type="Camera2D" parent="."]

[node name="Fluid2D" type="Fluid2D" parent="."]
density = 1000.0
effects = Array[Resource]([SubResource("FluidEffect2DSurfaceTensionAKINCI_kdubu"), SubResource("FluidEffect2DViscosityArtificial_d21ai")])
points = PackedVector2Array(-400, 0, -360, -160, -360, -120, -360, -80, -360, -40, -360, 0, -360, 40, -360, 80, -360, 120, -360, 160, -320, -240, -320, -200, -320, -160, -320, -120, -320, -80, -320, -40, -320, 0, -320, 40, -320, 80, -320, 120, -320, 160, -320, 200, -320, 240, -280, -280, -280, -240, -280, -200, -280, -160, -280, -120, -280, -80, -280, -40, -280, 0, -280, 40, -280, 80, -280, 120, -280, 160, -280, 200, -280, 240, -280, 280, -240, -320, -240, -280, -240, -240, -240, -200, -240, -160, -240, -120, -240, -80, -240, -40, -240, 0, -240, 40, -240, 80, -240, 120, -240, 160, -240, 200, -240, 240, -240, 280, -240, 320, -200, -320, -200, -280, -200, -240, -200, -200, -200, -160, -200, -120, -200, -80, -200, -40, -200, 0, -200, 40, -200, 80, -200, 120, -200, 160, -200, 200, -200, 240, -200, 280, -200, 320, -160, -360, -160, -320, -160, -280, -160, -240, -160, -200, -160, -160, -160, -120, -160, -80, -160, -40, -160, 0, -160, 40, -160, 80, -160, 120, -160, 160, -160, 200, -160, 240, -160, 280, -160, 320, -160, 360, -120, -360, -120, -320, -120, -280, -120, -240, -120, -200, -120, -160, -120, -120, -120, -80, -120, -40, -120, 0, -120, 40, -120, 80, -120, 120, -120, 160, -120, 200, -120, 240, -120, 280, -120, 320, -120, 360, -80, -360, -80, -320, -80, -280, -80, -240, -80, -200, -80, -160, -80, -120, -80, -80, -80, -40, -80, 0, -80, 40, -80, 80, -80, 120, -80, 160, -80, 200, -80, 240, -80, 280, -80, 320, -80, 360, -40, -360, -40, -320, -40, -280, -40, -240, -40, -200, -40, -160, -40, -120, -40, -80, -40, -40, -40, 0, -40, 40, -40, 80, -40, 120, -40, 160, -40, 200, -40, 240, -40, 280, -40, 320, -40, 360, 0, -400, 0, -360, 0, -320, 0, -280, 0, -240, 0, -200, 0, -160, 0, -120, 0, -80, 0, -40, 0, 0, 0, 40, 0, 80, 0, 120, 0, 160, 0, 200, 0, 240, 0, 280, 0, 320, 0, 360, 40, -360, 40, -320, 40, -280, 40, -240, 40, -200, 40, -160, 40, -120, 40, -80, 40, -40, 40, 0, 40, 40, 40, 80, 40, 120, 40, 160, 40, 200, 40, 240, 40, 280, 40, 320, 40, 360, 80, -360, 80, -320, 80, -280, 80, -240, 80, -200, 80, -160, 80, -120, 80, -80, 80, -40, 80, 0, 80, 40, 80, 80, 80, 120, 80, 160, 80, 200, 80, 240, 80, 280, 80, 320, 80, 360, 120, -360, 120, -320, 120, -280, 120, -240, 120, -200, 120, -160, 120, -120, 120, -80, 120, -40, 120, 0, 120, 40, 120, 80, 120, 120, 120, 160, 120, 200, 120, 240, 120, 280, 120, 320, 120, 360, 160, -360, 160, -320, 160, -280, 160, -240, 160, -200, 160, -160, 160, -120, 160, -80, 160, -40, 160, 0, 160, 40, 160, 80, 160, 120, 160, 160, 160, 200, 160, 240, 160, 280, 160, 320, 160, 360, 200, -320, 200, -280, 200, -240, 200, -200, 200, -160, 200, -120, 200, -80, 200, -40, 200, 0, 200, 40, 200, 80, 200, 120, 200, 160, 200, 200, 200, 240, 200, 280, 200, 320, 240, -320, 240, -280, 240, -240, 240, -200, 240, -160, 240, -120, 240, -80, 240, -40, 240, 0, 240, 40, 240, 80, 240, 120, 240, 160, 240, 200, 240, 240, 240, 280, 240, 320, 280, -280, 280, -240, 280, -200, 280, -160, 280, -120, 280, -80, 280, -40, 280, 0, 280, 40, 280, 80, 280, 120, 280, 160, 280, 200, 280, 240, 280, 280, 320, -240, 320, -200, 320, -160, 320, -120, 320, -80, 320, -40, 320, 0, 320, 40, 320, 80, 320, 120, 320, 160, 320, 200, 320, 240, 360, -160, 360, -120, 360, -80, 360, -40, 360, 0, 360, 40, 360, 80, 360, 120, 360, 160)
position = Vector2(0, -356)
script = ExtResource("1_epypp")

[node name="StaticBody2D" type="StaticBody2D" parent="."]
position = Vector2(0, 295)
scale = Vector2(35.28, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
shape = SubResource("RectangleShape2D_rj586")

[node name="Sprite2D" type="Sprite2D" parent="StaticBody2D"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("2_0hol4")

[node name="StaticBody2D2" type="StaticBody2D" parent="."]
position = Vector2(282, -38)
rotation = 1.5707964
scale = Vector2(50, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D2"]
shape = SubResource("RectangleShape2D_rj586")

[node name="Sprite2D" type="Sprite2D" parent="StaticBody2D2"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("2_0hol4")

[node name="StaticBody2D3" type="StaticBody2D" parent="."]
position = Vector2(-266, -38)
rotation = 1.5707964
scale = Vector2(50, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D3"]
shape = SubResource("RectangleShape2D_rj586")

[node name="Sprite2D" type="Sprite2D" parent="StaticBody2D3"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("2_0hol4")

[node name="StaticBody2D4" type="StaticBody2D" parent="."]
position = Vector2(-134, 53)
scale = Vector2(50, 1)

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D4"]
shape = SubResource("RectangleShape2D_rj586")

[node name="Sprite2D" type="Sprite2D" parent="StaticBody2D4"]
scale = Vector2(0.15, 0.15)
texture = ExtResource("2_0hol4")

[node name="MultiMeshInstance2D" type="MultiMeshInstance2D" parent="."]
multimesh = SubResource("MultiMesh_rj586")
texture = ExtResource("2_0hol4")
script = ExtResource("3_q6r6c")
color = Color(0.8, 0.8, 0.8, 1)
mesh_scale = Vector2(1, 1)

[node name="CanvasLayer" type="CanvasLayer" parent="." node_paths=PackedStringArray("fluid", "camera")]
script = ExtResource("4_q6r6c")
fluid = NodePath("../Fluid2D")
camera = NodePath("../Camera2D")
water_material = ExtResource("5_kdubu")
